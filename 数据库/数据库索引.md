<h1>数据库索引</h1>

### 索引
索引是排序号的数据结构，以文件形式存在，B树或者B+树索引

优点： 提高数据的检索效率， 对索引数据进行排序，降低了排序的成本

缺点： 占用磁盘空间；降低了更新表记录的速度及性能，因为更新表会更新索引

### 聚集索引
按照每张表得主键构造一棵B+树，B+树的叶子节点存放整张表的记录数据。叶子节点称为数据页，每个数据通过一个双链表进行连接，而且数据页按照主键顺序进行排序，每个数据页存放完整的行记录

### 辅助索引
B+树的叶子节点不包含行数据记录的全部数据，叶子节点包含一个数千，用于告诉数据库哪里可以找到索引对应的数据

### 覆盖索引
如果一个索引包含(或覆盖)所有需要查询的字段的值，只需要扫描索引，不用回表查询

### 不需要建立索引的情况
1. **经常增删改的数据库**： 索引会经常更新，影响性能
2. **数据重复且平均分配的字段**： 这些数据建立索引没什么意义
3. **频繁更新字段**： 索引也会频繁更新
4. **where条件用不到字段**： 无意义的索引，还占用条件

### 索引失效
1. 在索引字段上做操作： 计算，使用函数或者类型转换
2. 使用!=或<>或is null或is not null
3. 使用like， 以%开头会使索引失效
4. 字符串作为where的条件， 不使用双引号
5. 用or链接使索引失效
