<h1>数据库事务</h1>

### 事务的特性
- **原子性**： 每个事务都是不可分割的整体
- **一致性**： 实际操作结果与事务的期望运行结果一致
- **隔离性**： 事务在正确提交之前，它可能的结果不会显示给其他事务
- **持久性**： 事务一旦提交，结果得以保存

### 事务的几个问题
- **脏读**： 脏读指的是一个事务A读取了事务B未提交的数据
- **不可重复读**： 一个事务读取一个数据，读取完成之后该数据被另外的事务修改，导致第一个事务的数据是旧数据
- **幻读**： 在一个事务操作中发现了未被操作的数据。例：事务A操作一张表，此时发生上下文切换，事务B运行，向表中插入了一条数据，再切回事务A，事务A继续操作时发现了一条事务B的数据

### 事务的隔离级别
- **READ-UNCOMMITED(读未提交)**： 该级别会导致事务可以相互读取未提交的事务。会遇到脏读、不可重复读和幻读的问题
- **READ-COMMITED(读提交)**： 该级别要求事务只能读取已经提交的事务。解决了脏读的问题，但存在不可重复读和幻读问题
- **REPEATABLE-READ(可重复读)**： 在READ-COMMITED的基础上，增加读取数据之后对数据加锁的操作，事务完成之后释放锁，解决不可重复读的问题，但仍存在幻读问题
- **SERIALIZABLE(序列化)**： 各事务排队执行，解决所有的事务问题，但性能最差
- **DEFAULT(默认)**： Sql Server和Oracle默认级别为READ-COMMITED，MySql为REPEATABLE-READ
