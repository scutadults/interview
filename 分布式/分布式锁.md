<h1>分布式锁</h1>

### 分布式锁的三种机制
1. 基于数据库实现分布式锁
2. 基于缓存实现分布式锁(redis)
3. 使用zookeeper

### 利用主键的唯一性(insert失败)
优点： 实现简单易懂

缺点： 强依赖数据库的可用性、锁没有失效时间(需要删除insert记录才能)，出错的话记录存在数据库中、只能是非阻塞锁，insert失败之后无队列保存锁的请求、非可重入锁

### 利用Redis (set if exist机制)
优点： 利用Redis的机制，实现简单，性能高

缺点： 主从架构宕机时容易出错、 不适用于时间较长的任务(expire失效问题)

### 基于zookeeper
优点： 可靠

缺点： 性能较低

### 排名
性能： redis > zookeeper > 数据库

可靠性： zookeeper > redis > 数据库
