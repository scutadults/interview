<h1>Java虚拟机</h1>
### JVM内存模型
- **程序计数器**： 一个内存容量较小的空间，线程私有，是当前线程所执行的字节码行号指示器。执行方法时记录的时字节码的指令地址，这是JVM中唯一没有内存溢出问题的区域
- **Java虚拟机栈**： 线程私有，用于存放方法执行的栈帧。当线程请求的栈深度大于虚拟机允许的深度，会抛出StackOverFlow异常，若无法申请到更多的内存存放栈帧，则抛出OutOfMemory异常
- **本地方法栈**： 与Java虚拟机栈的功能类似，不同点在于只存放Native方法的栈帧
- **Java堆**： 虚拟机管理内存最大的一块区域，唯一目的是存放运行时的对象实例。共享内存区域、垃圾收集器管理的主要区域
- **方法区**： 共享内存区域，存放加载的类信息、常量、静态变量，永久代所在区域
- **运行时常量池**： 方法区的一部分。存放编译器生成的各种字面量和符号引用

### new一个对象的过程
1. 检查这个指令的参数是否能在运行时常量池中定位到一个类的符号引用，并检查这个符号代表的类是否已被加载、解析、初始化过。没有则进行这些过程
2. 为新对象分配内存
3. 将分配到的内存空间初始化为零值
4. 对对象进行必要设置(例如元数据信息)
5. 执行<init>方法，按程序的意愿进行初始化

### 对象的内存布局与对象的访问定位
对象内存布局：对象头、实例数据、对齐填充(因为一个对象的大小为8字节的整数倍)

对象的访问定位：
- **句柄**： Java堆中使用一块内存作为句柄池，存放实例数据与内心数据各自的地址信息
- **直接指针**： 使用reference直接存放对象的地址信息
